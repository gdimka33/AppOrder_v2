from База_данных.БД_соединение import выполнить_запрос
from logger import logger

def заполнить_справочник_типов_нарядов():
    """Заполняет справочник типов нарядов начальными данными"""
    типы_нарядов = [
        ('Дежурный',),
        ('Дневальный',),
        ('Начальник наряда',)
    ]
    try:
        результат = выполнить_запрос("SELECT COUNT(*) as count FROM типы_нарядов")
        if результат and результат[0]['count'] > 0:
            logger.info("Справочник типов нарядов уже заполнен")
            return
        for наименование in типы_нарядов:
            выполнить_запрос(
                "INSERT INTO типы_нарядов (наименование) VALUES (?)",
                наименование
            )
        logger.info("Справочник типов нарядов успешно заполнен")
    except Exception as e:
        logger.error(f"Ошибка при заполнении справочника типов нарядов: {e}")
        raise
